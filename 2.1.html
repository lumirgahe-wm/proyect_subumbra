<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urbes Subumbra</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- LOADING SCREEN -->
    <div id="loading-screen">
        <div class="loader"></div>
        <p>Cargando...</p>
    </div>

    <!-- PANTALLA DE VIDEO INICIAL -->
    <div id="video-screen" class="hidden">
        <video id="intro-video" src="imagenes/Intro.mp4" playsinline></video>
        <button id="continue-btn">Continuar</button>
    </div>

    <!-- CONTENEDOR PRINCIPAL DEL JUEGO -->
    <div id="game-container" class="hidden">   

        <!-- pantalla de título + selección de personaje -->
        <div id="story-title">
            <h1>Urbes Subumbra</h1>

            <div id="character-select">
                <p>Elige tu personaje:</p>

                <div class="character-grid">

                    <button class="character-btn" data-character="Gabriel">
                        <img src="imagenes/gabriel.jpg" class="character-img" alt="Gabriel">
                        <span>Gabriel</span>
                    </button>

                    <button class="character-btn" data-character="Edward">
                        <img src="imagenes/edward.jpg" class="character-img" alt="Edward">
                        <span>Edward</span>
                    </button>

                </div>
            </div>
        </div>

        <div id="passage-container" class="hidden">
            <div id="passage-content"></div>
            <div id="passage-choices"></div>
        </div>
    </div>

    <div id="light-flash" class="hidden"></div>

    <audio id="ghost-scream" src="sounds/terror-scream-grito-terror-101302.mp3" preload="auto"></audio>
    <audio id="step-sound" src="sounds/pasos-suaves-02-68341.mp3" preload="auto"></audio>
    <audio id="run-sound" src="sounds/corriendo.mp3" preload="auto"></audio>
    <audio id="criying-sound" src="sounds/llanto.mp3" preload="auto"></audio>
    <audio id="ghost-scream2" src="sounds/grito1.mp3" preload="auto"></audio>
    <audio id="ghost-scream3" src="sounds/grito3.mp3" preload="auto"></audio>
    <audio id="moan-sound" src="sounds/gemido.mp3" preload="auto"></audio>
    <audio id="breat-sound" src="sounds/respiracion.mp3" preload="auto"></audio>
    <audio id="heart-sound" src="sounds/corazon.mp3" preload="auto"></audio>
    <audio id="voice-sound" src="sounds/voz.mp3" preload="auto"></audio>
    <audio id="call-sound" src="sounds/llamada.mp3" preload="auto"></audio>

    <script src="story-data.js"></script>
    <script src="game-engine.js"></script>

    <script>
        const loadingScreen = document.getElementById('loading-screen');
        const videoScreen = document.getElementById('video-screen');
        const introVideo = document.getElementById('intro-video');
        const continueBtn = document.getElementById('continue-btn');
        const gameContainer = document.getElementById('game-container');

        introVideo.addEventListener('loadeddata', () => {
            loadingScreen.classList.add('hidden');
            videoScreen.classList.remove('hidden');
            introVideo.play();
        });

        continueBtn.addEventListener('click', () => {
            videoScreen.classList.add("hidden");
            gameContainer.classList.remove("hidden");
        });
    </script>

</body>
</html>
